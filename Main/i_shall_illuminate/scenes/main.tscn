[gd_scene load_steps=18 format=4 uid="uid://1gg5wvicfjjq"]

[ext_resource type="PackedScene" uid="uid://d2r4c61pcpx3f" path="res://scenes/player.tscn" id="1_0wfyh"]
[ext_resource type="Script" uid="uid://i8pf07hjtkgr" path="res://scenes/main.gd" id="1_choun"]
[ext_resource type="PackedScene" uid="uid://c11tgebwk6i2n" path="res://scenes/crystal.tscn" id="2_sugp2"]
[ext_resource type="PackedScene" uid="uid://hl8v8rx6l4m8" path="res://scenes/Walls.tscn" id="3_sugp2"]
[ext_resource type="Texture2D" uid="uid://c45enq0gxu0sy" path="res://sprites/Walls.png" id="4_85g3d"]
[ext_resource type="Texture2D" uid="uid://du6i6ws687asv" path="res://sprites/firefly1.jpg" id="4_jyhfs"]
[ext_resource type="PackedScene" uid="uid://df5c5iis07o2q" path="res://scenes/Spirit.tscn" id="4_tipki"]
[ext_resource type="Texture2D" uid="uid://cjqaiut6146ck" path="res://sprites/noprogress.png" id="5_o6xl0"]
[ext_resource type="Texture2D" uid="uid://kgf83b7leb67" path="res://sprites/fullprogress.png" id="7_85g3d"]
[ext_resource type="Script" uid="uid://ftylx5jsml8q" path="res://scripts/CrystalNum.gd" id="7_o6xl0"]

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_o6xl0"]
scenes/1/scene = ExtResource("2_sugp2")

[sub_resource type="TileSet" id="TileSet_tipki"]
sources/0 = SubResource("TileSetScenesCollectionSource_o6xl0")

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_jyhfs"]
scenes/1/scene = ExtResource("3_sugp2")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_85g3d"]
texture = ExtResource("4_85g3d")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(1.6, -8, 8, -8, 8, 8, -1.6, 8, -1.6, -4.8)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-1.6, -8, -1.6, 8, 8, 8, 8, -8)
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:2/0 = 0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, -8, 8, 1.6, 8, 1.6, -8)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-1.6, -8, -8, -8, -8, 8, 1.6, 8, 1.6, -4.8)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-1.6, -8, -8, -8, -8, 8, 8, 8, 8, -8)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, -8, 8, 1.6, 8, 1.6, -8)
1:3/0 = 0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, -8, -4.8, 8, -4.8, 8, -8)
0:4/0 = 0
0:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-1.6, -8, 1.6, -4.8, 8, -4.8, 8, -8)
1:4/0 = 0
1:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, -8, -4.8, -1.6, -4.8, 1.6, -8)
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-1.6, -8, -1.6, 4.8, -1.6, 8, 8, 8, 8, -8)

[sub_resource type="TileSet" id="TileSet_tbgi4"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetScenesCollectionSource_jyhfs")
sources/5 = SubResource("TileSetAtlasSource_85g3d")

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_85g3d"]
scenes/1/scene = ExtResource("4_tipki")

[sub_resource type="TileSet" id="TileSet_choun"]
sources/0 = SubResource("TileSetScenesCollectionSource_85g3d")

[node name="Main" type="Node2D"]
script = ExtResource("1_choun")

[node name="Player" parent="." instance=ExtResource("1_0wfyh")]
z_index = 5
position = Vector2(598, 427)

[node name="Crystalmap" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAsAAgAAAAAAAAAAQApABcAAAAAAAAAAQAvABgAAAAAAAAAAQA=")
tile_set = SubResource("TileSet_tipki")

[node name="Walls" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAgAB8ABQABAAAAAAAhAB8ABQABAAAAAAAiAB8ABQABAAAAAAAjAB8ABQABAAAAAAAkAB8ABQABAAAAAAAlAB8ABQABAAAAAAAmAB8ABQABAAAAAAAnAB8ABQABAAAAAAAoAB8ABQABAAAAAAApAB8ABQABAAAAAAAqAB8ABQABAAAAAAArAB8ABQABAAAAAAAsAB8ABQABAAAAAAAtAB8ABQABAAAAAAAuAB8ABQABAAAAAAAvAB8ABQABAAAAAAAwAB8ABQABAAAAAAAxAB8ABQABAAAAAAAyAB8ABQABAAAAAAAzAB8ABQABAAAAAAA0AB8ABQABAAAAAAA1AB8ABQABAAAAAAA2AB8ABQABAAAAAAAgACMABQABAAIAAAAhACMABQABAAIAAAAiACMABQABAAIAAAAjACMABQABAAIAAAAkACMABQABAAIAAAAlACMABQABAAIAAAAmACMABQABAAIAAAAnACMABQABAAIAAAAoACMABQABAAIAAAApACMABQABAAIAAAAqACMABQABAAIAAAArACMABQABAAIAAAAsACMABQABAAIAAAAtACMABQABAAIAAAAuACMABQABAAIAAAAvACMABQABAAIAAAAwACMABQABAAIAAAAxACMABQABAAIAAAAyACMABQABAAIAAAAzACMABQABAAIAAAA0ACMABQABAAIAAAA1ACMABQABAAIAAAA2ACMABQABAAIAAAA3ACMABQACAAIAAAA3ACAABQACAAEAAAA3ACEABQACAAEAAAA3ACIABQACAAEAAAAfACAABQAAAAEAAAAfACEABQAAAAEAAAAfACIABQAAAAEAAAAfACMABQAAAAIAAAAfAB8ABQAAAAAAAAA3AB8ABQACAAAAAAAgACAABQABAAEAAAAgACEABQABAAEAAAAgACIABQABAAEAAAAhACAABQABAAEAAAAhACEABQABAAEAAAAhACIABQABAAEAAAAiACAABQABAAEAAAAiACEABQABAAEAAAAiACIABQABAAEAAAAjACAABQABAAEAAAAjACEABQABAAEAAAAjACIABQABAAEAAAAkACAABQABAAEAAAAkACEABQABAAEAAAAkACIABQABAAEAAAAlACAABQABAAEAAAAlACEABQABAAEAAAAlACIABQABAAEAAAAmACAABQABAAEAAAAmACEABQABAAEAAAAmACIABQABAAEAAAAnACAABQABAAEAAAAnACEABQABAAEAAAAnACIABQABAAEAAAAoACAABQABAAEAAAAoACEABQABAAEAAAAoACIABQABAAEAAAApACAABQABAAEAAAApACEABQABAAEAAAApACIABQABAAEAAAAqACAABQABAAEAAAAqACEABQABAAEAAAAqACIABQABAAEAAAArACAABQABAAEAAAArACEABQABAAEAAAArACIABQABAAEAAAAsACAABQABAAEAAAAsACEABQABAAEAAAAsACIABQABAAEAAAAtACAABQABAAEAAAAtACEABQABAAEAAAAtACIABQABAAEAAAAuACAABQABAAEAAAAuACEABQABAAEAAAAuACIABQABAAEAAAAvACAABQABAAEAAAAvACEABQABAAEAAAAvACIABQABAAEAAAAwACAABQABAAEAAAAwACEABQABAAEAAAAwACIABQABAAEAAAAxACAABQABAAEAAAAxACEABQABAAEAAAAxACIABQABAAEAAAAyACAABQABAAEAAAAyACEABQABAAEAAAAyACIABQABAAEAAAAzACAABQABAAEAAAAzACEABQABAAEAAAAzACIABQABAAEAAAA0ACAABQABAAEAAAA0ACEABQABAAEAAAA0ACIABQABAAEAAAA1ACAABQABAAEAAAA1ACEABQABAAEAAAA1ACIABQABAAEAAAA2ACAABQABAAEAAAA2ACEABQABAAEAAAA2ACIABQABAAEAAAAgACQABQABAAMAAAAhACQABQABAAMAAAAiACQABQABAAMAAAAjACQABQABAAMAAAAkACQABQABAAMAAAAlACQABQABAAMAAAAmACQABQABAAMAAAAnACQABQABAAMAAAAoACQABQABAAMAAAApACQABQABAAMAAAAqACQABQABAAMAAAArACQABQABAAMAAAAsACQABQABAAMAAAAtACQABQABAAMAAAAuACQABQABAAMAAAAvACQABQABAAMAAAAwACQABQABAAMAAAAxACQABQABAAMAAAAyACQABQABAAMAAAAzACQABQABAAMAAAA0ACQABQABAAMAAAA1ACQABQABAAMAAAA2ACQABQABAAMAAAA3ACQABQABAAQAAAAfACQABQAAAAQAAAA=")
tile_set = SubResource("TileSet_tbgi4")

[node name="Spiritmap" type="TileMapLayer" parent="."]
z_index = 1
position = Vector2(29, 31)
tile_map_data = PackedByteArray("AAApAA4AAAAAAAAAAQAoABcAAAAAAAAAAQAqABcAAAAAAAAAAQAmABoAAAAAAAAAAQAtABoAAAAAAAAAAQA=")
tile_set = SubResource("TileSet_choun")

[node name="DarkMode" type="DirectionalLight2D" parent="."]
z_index = -10
blend_mode = 1

[node name="FireflyThighs" type="Sprite2D" parent="."]
z_index = -100
position = Vector2(676, 460)
texture = ExtResource("4_jyhfs")

[node name="UI" type="CanvasLayer" parent="."]

[node name="Stamina_Bar" type="TextureProgressBar" parent="UI"]
offset_left = 550.0
offset_top = 413.0
offset_right = 614.0
offset_bottom = 477.0
scale = Vector2(1.42039, 1.2623)
value = 100.0
texture_under = ExtResource("5_o6xl0")
texture_progress = ExtResource("7_85g3d")
tint_under = Color(0.121602, 6.21789e-06, 0.109422, 1)
tint_over = Color(0.676209, 0.686421, 0.0158847, 1)
tint_progress = Color(0.556756, 0.551972, 3.85046e-07, 1)

[node name="CrystalCounter" type="Label" parent="UI"]
offset_right = 40.0
offset_bottom = 23.0
script = ExtResource("7_o6xl0")

[connection signal="body_entered" from="Crystalmap/Crystal" to="Crystalmap/Crystal" method="_on_body_entered"]
[connection signal="body_entered" from="Crystalmap/@Area2D@43531" to="Crystalmap/@Area2D@43531" method="_on_body_entered"]
[connection signal="body_entered" from="Crystalmap/@Area2D@43532" to="Crystalmap/@Area2D@43532" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/Area2D" to="Spiritmap/Area2D" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@43533" to="Spiritmap/@Area2D@43533" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@43534" to="Spiritmap/@Area2D@43534" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@43535" to="Spiritmap/@Area2D@43535" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@43536" to="Spiritmap/@Area2D@43536" method="_on_body_entered"]
