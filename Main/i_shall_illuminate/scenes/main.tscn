[gd_scene load_steps=15 format=4 uid="uid://1gg5wvicfjjq"]

[ext_resource type="PackedScene" uid="uid://d2r4c61pcpx3f" path="res://scenes/player.tscn" id="1_0wfyh"]
[ext_resource type="PackedScene" uid="uid://c11tgebwk6i2n" path="res://scenes/crystal.tscn" id="2_sugp2"]
[ext_resource type="PackedScene" uid="uid://hl8v8rx6l4m8" path="res://scenes/Walls.tscn" id="3_sugp2"]
[ext_resource type="Texture2D" uid="uid://du6i6ws687asv" path="res://sprites/firefly1.jpg" id="4_jyhfs"]
[ext_resource type="PackedScene" uid="uid://df5c5iis07o2q" path="res://scenes/Spirit.tscn" id="4_tipki"]
[ext_resource type="Texture2D" uid="uid://cjqaiut6146ck" path="res://sprites/noprogress.png" id="5_o6xl0"]
[ext_resource type="Texture2D" uid="uid://kgf83b7leb67" path="res://sprites/fullprogress.png" id="7_85g3d"]
[ext_resource type="Script" uid="uid://ftylx5jsml8q" path="res://scripts/CrystalNum.gd" id="7_o6xl0"]

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_o6xl0"]
scenes/1/scene = ExtResource("2_sugp2")

[sub_resource type="TileSet" id="TileSet_tipki"]
sources/0 = SubResource("TileSetScenesCollectionSource_o6xl0")

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_jyhfs"]
scenes/1/scene = ExtResource("3_sugp2")

[sub_resource type="TileSet" id="TileSet_tbgi4"]
sources/0 = SubResource("TileSetScenesCollectionSource_jyhfs")

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_85g3d"]
scenes/1/scene = ExtResource("4_tipki")

[sub_resource type="TileSet" id="TileSet_choun"]
sources/0 = SubResource("TileSetScenesCollectionSource_85g3d")

[node name="Main" type="Node2D"]

[node name="Player" parent="." instance=ExtResource("1_0wfyh")]
position = Vector2(598, 427)

[node name="Crystalmap" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAlABAAAAAAAAAAAQAtABkAAAAAAAAAAQA6ABUAAAAAAAAAAQA4ACEAAAAAAAAAAQBGABwAAAAAAAAAAQBHABMAAAAAAAAAAQAdAB4AAAAAAAAAAQAbABYAAAAAAAAAAQAjABYAAAAAAAAAAQA3AAoAAAAAAAAAAQAsAAgAAAAAAAAAAQA=")
tile_set = SubResource("TileSet_tipki")

[node name="Walls" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAArAAwAAAAAAAAAAQArAA0AAAAAAAAAAQArAA4AAAAAAAAAAQArAA8AAAAAAAAAAQArABAAAAAAAAAAAQArABEAAAAAAAAAAQArABIAAAAAAAAAAQAqABMAAAAAAAAAAQAqABQAAAAAAAAAAQAqABUAAAAAAAAAAQAqABYAAAAAAAAAAQApABcAAAAAAAAAAQApABgAAAAAAAAAAQApABkAAAAAAAAAAQApABoAAAAAAAAAAQApABsAAAAAAAAAAQApABwAAAAAAAAAAQApAB0AAAAAAAAAAQApAB4AAAAAAAAAAQAoAB8AAAAAAAAAAQAoACAAAAAAAAAAAQApACEAAAAAAAAAAQAqACIAAAAAAAAAAQArACIAAAAAAAAAAQAsACIAAAAAAAAAAQAtACIAAAAAAAAAAQAuACIAAAAAAAAAAQAvACIAAAAAAAAAAQAvACEAAAAAAAAAAQAwACAAAAAAAAAAAQAwAB8AAAAAAAAAAQAwAB4AAAAAAAAAAQAwAB0AAAAAAAAAAQAxABwAAAAAAAAAAQAxABsAAAAAAAAAAQAxABoAAAAAAAAAAQAyABkAAAAAAAAAAQAyABgAAAAAAAAAAQAyABcAAAAAAAAAAQAyABYAAAAAAAAAAQAyABUAAAAAAAAAAQAyABQAAAAAAAAAAQAyABMAAAAAAAAAAQAyABIAAAAAAAAAAQAyABEAAAAAAAAAAQAyABAAAAAAAAAAAQAzABAAAAAAAAAAAQA0ABAAAAAAAAAAAQA1ABAAAAAAAAAAAQA2ABAAAAAAAAAAAQA3ABAAAAAAAAAAAQA4ABAAAAAAAAAAAQA5ABAAAAAAAAAAAQA6AA8AAAAAAAAAAQA7AA4AAAAAAAAAAQA8AA0AAAAAAAAAAQA9AAwAAAAAAAAAAQA+AAwAAAAAAAAAAQA/AAsAAAAAAAAAAQBAAAoAAAAAAAAAAQBBAAkAAAAAAAAAAQBCAAgAAAAAAAAAAQBCAAcAAAAAAAAAAQBDAAYAAAAAAAAAAQBEAAUAAAAAAAAAAQBEAAQAAAAAAAAAAQBFAAMAAAAAAAAAAQBFAAIAAAAAAAAAAQBFAAEAAAAAAAAAAQBEAAEAAAAAAAAAAQBEAAIAAAAAAAAAAQBEAAMAAAAAAAAAAQBEAAYAAAAAAAAAAQBEAAcAAAAAAAAAAQBDAAgAAAAAAAAAAQBDAAkAAAAAAAAAAQBDAAoAAAAAAAAAAQBCAAsAAAAAAAAAAQBCAAwAAAAAAAAAAQBCAA0AAAAAAAAAAQBCAA4AAAAAAAAAAQBCAA8AAAAAAAAAAQBBABAAAAAAAAAAAQBBABEAAAAAAAAAAQBBABIAAAAAAAAAAQBBABMAAAAAAAAAAQBAABQAAAAAAAAAAQBAABUAAAAAAAAAAQBAABYAAAAAAAAAAQBAABcAAAAAAAAAAQBAABgAAAAAAAAAAQA/ABkAAAAAAAAAAQA/ABoAAAAAAAAAAQA/ABsAAAAAAAAAAQA/ABwAAAAAAAAAAQBAAB0AAAAAAAAAAQBAAB4AAAAAAAAAAQBBAB8AAAAAAAAAAQBCAB8AAAAAAAAAAQBDAB8AAAAAAAAAAQBEAB8AAAAAAAAAAQBEACAAAAAAAAAAAQA=")
tile_set = SubResource("TileSet_tbgi4")

[node name="Spiritmap" type="TileMapLayer" parent="."]
position = Vector2(29, 31)
tile_map_data = PackedByteArray("AAAfABkAAAAAAAAAAQAjAB0AAAAAAAAAAQApABgAAAAAAAAAAQAlABIAAAAAAAAAAQAdABMAAAAAAAAAAQAuABQAAAAAAAAAAQAwABwAAAAAAAAAAQAaAB0AAAAAAAAAAQASABgAAAAAAAAAAQATABQAAAAAAAAAAQAZABcAAAAAAAAAAQAVABwAAAAAAAAAAQAOAB4AAAAAAAAAAQAXAB8AAAAAAAAAAQAjACEAAAAAAAAAAQApACAAAAAAAAAAAQAqABoAAAAAAAAAAQArABkAAAAAAAAAAQArABQAAAAAAAAAAQAaABIAAAAAAAAAAQAYABAAAAAAAAAAAQA=")
tile_set = SubResource("TileSet_choun")

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="."]
z_index = -10
blend_mode = 1

[node name="Sprite2D" type="Sprite2D" parent="."]
z_index = -100
position = Vector2(712, 217)
texture = ExtResource("4_jyhfs")

[node name="UI" type="CanvasLayer" parent="."]

[node name="Stamina_Bar" type="TextureProgressBar" parent="UI"]
offset_left = 550.0
offset_top = 413.0
offset_right = 614.0
offset_bottom = 477.0
scale = Vector2(1.42039, 1.2623)
value = 100.0
texture_under = ExtResource("5_o6xl0")
texture_progress = ExtResource("7_85g3d")
tint_under = Color(0.121602, 6.21789e-06, 0.109422, 1)
tint_over = Color(0.676209, 0.686421, 0.0158847, 1)
tint_progress = Color(0.556756, 0.551972, 3.85046e-07, 1)

[node name="CrystalCounter" type="Label" parent="UI"]
offset_right = 40.0
offset_bottom = 23.0
script = ExtResource("7_o6xl0")

[connection signal="body_entered" from="Crystalmap/Crystal" to="Crystalmap/Crystal" method="_on_body_entered"]
[connection signal="body_entered" from="Crystalmap/@Area2D@69418" to="Crystalmap/@Area2D@69418" method="_on_body_entered"]
[connection signal="body_entered" from="Crystalmap/@Area2D@69419" to="Crystalmap/@Area2D@69419" method="_on_body_entered"]
[connection signal="body_entered" from="Crystalmap/@Area2D@69420" to="Crystalmap/@Area2D@69420" method="_on_body_entered"]
[connection signal="body_entered" from="Crystalmap/@Area2D@69421" to="Crystalmap/@Area2D@69421" method="_on_body_entered"]
[connection signal="body_entered" from="Crystalmap/@Area2D@69422" to="Crystalmap/@Area2D@69422" method="_on_body_entered"]
[connection signal="body_entered" from="Crystalmap/@Area2D@69423" to="Crystalmap/@Area2D@69423" method="_on_body_entered"]
[connection signal="body_entered" from="Crystalmap/@Area2D@69424" to="Crystalmap/@Area2D@69424" method="_on_body_entered"]
[connection signal="body_entered" from="Crystalmap/@Area2D@69425" to="Crystalmap/@Area2D@69425" method="_on_body_entered"]
[connection signal="body_entered" from="Crystalmap/@Area2D@69426" to="Crystalmap/@Area2D@69426" method="_on_body_entered"]
[connection signal="body_entered" from="Crystalmap/@Area2D@69427" to="Crystalmap/@Area2D@69427" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/Area2D" to="Spiritmap/Area2D" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69529" to="Spiritmap/@Area2D@69529" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69530" to="Spiritmap/@Area2D@69530" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69531" to="Spiritmap/@Area2D@69531" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69808" to="Spiritmap/@Area2D@69808" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69809" to="Spiritmap/@Area2D@69809" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69810" to="Spiritmap/@Area2D@69810" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69811" to="Spiritmap/@Area2D@69811" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69812" to="Spiritmap/@Area2D@69812" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69813" to="Spiritmap/@Area2D@69813" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69814" to="Spiritmap/@Area2D@69814" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69815" to="Spiritmap/@Area2D@69815" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69816" to="Spiritmap/@Area2D@69816" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69817" to="Spiritmap/@Area2D@69817" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69818" to="Spiritmap/@Area2D@69818" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69819" to="Spiritmap/@Area2D@69819" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69820" to="Spiritmap/@Area2D@69820" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69821" to="Spiritmap/@Area2D@69821" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69822" to="Spiritmap/@Area2D@69822" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69823" to="Spiritmap/@Area2D@69823" method="_on_body_entered"]
[connection signal="body_entered" from="Spiritmap/@Area2D@69824" to="Spiritmap/@Area2D@69824" method="_on_body_entered"]
